--- ckey-12.2.0/templates/ckey-secret.yaml	2024-03-16 01:47:07.000000000 +0530
+++ ckey-12.2.0-nokia-patch-1/ckey/templates/ckey-secret.yaml	2024-03-27 18:36:09.372067366 +0530
@@ -18,10 +18,13 @@
     {{- include "ckey.commonLabels" . | indent 4 }}
 type: Opaque
 data:
-  keycloak-admin-user: {{ "admin" | b64enc | quote }}
-  {{ if or .Release.IsInstall .Release.IsUpgrade }}
+  keycloak-admin-user: {{ .Values.keycloakUser | default "admin" | b64enc | quote  }}
+  {{ if or .Release.IsInstall (and .Release.IsUpgrade .Values.keycloakPassword) }}
   keycloak-admin-password: {{ template "ckey.encodedAdminPassword" . }}
   {{ else }}
   keycloak-admin-password: ""
   {{ end }}
+  {{- if .Values.secretCredentials.dbSecret }}
+  db-password: {{ .Values.base64DBPassword | quote }}
+  {{ end }}
 {{ end }}
