# Keycloak
[Keycloak](https://www.keycloak.org) is an open source Identity and Access Management solution aimed at modern applications and services.
It makes it easy to secure applications and services with little to no code.

## Introduction
This chart bootstraps a [Keycloak](https://www.keycloak.org) deployment on a [Kubernetes](http://kubernetes.io) cluster using the [Helm](https://helm.sh) package manager. For more details about CKEY, please consult our documentation site

## Prerequisites
- Kubernetes 1.19+
- Helm (3.4.1+) installed

## Installing the Chart
To install the chart with the release name `my-release`:

```bash
$ helm3 install ckey <my-release> --namespace <ns> --timeout 900s
```

The command deploys Keycloak on the Kubernetes cluster in the default configuration. The [configuration](## Parameters) section lists the parameters that can be configured during installation.

> **Tip**: List all deployments in the cluster using `helm3 list -A`

## Uninstalling the Chart
To uninstall/delete the `my-release` deployment:

```bash
$ helm3 delete my-release -n <ns> --no-hooks
```

The command removes all the Kubernetes components associated with the chart and deletes the release.

Keycloak has multiple configurable parameters. For more details about these parameters, please take a look at the values-model.yaml file which contains a description for each item. On ComPaaS, the descriptions already appear for each configurable parameter.
Keycloak parameters map to the env variables defined in Dockerized Keycloak.

Specify each parameter using the `--set key=value[,key=value]` argument to `helm install`. For example,

```bash
$ helm3 install my-release csf-stable/ckey --set dbIP=<db IP address goes here>,dbName=newdb -n <ns>
```

The above command sets up Keycloak using MariaDB instance 'newdb' on the specified  IP address (this would require a database to be installed and configured for Keycloak on the specified IP).

Alternatively, a YAML file that specifies the values for the parameters can be provided while installing the chart. For example,

```bash
$ helm3 install my-release stable/ckey -f values.yaml --namespace <ns>
```

> **Tip**: If '-f' is omitted, default values.yaml will be used.

## The default values may be seen in the helm chart's default values.yaml file.

NOTE: You must provide the proper DB information and adjust the liveness prob timeout with respect to the time required for database schema initialization to complete.
Keycloak expects the CMDB instance to have (1) a database, e.g. db4keycloak, and (2) a user, e.g. keycloak, which CKEY will use to connect to the database.
you must also ensure that the keycloak user has the correct privileges over the applicable database.
Granting the privilege can be achieved by running SQL queries, e.g.:
```bash
$ GRANT ALL PRIVILEGES ON db4keycloak.* to keycloak@'%' IDENTIFIED BY 'r00tr00t';
$ GRANT ALL PRIVILEGES ON db4keycloak.* to keycloak@'localhost' IDENTIFIED BY 'r00tr00t';
```

## Parameters

The following table lists the configurable parameters of the MariaDB chart and their default values.

| Parameter                                                                                                             | Description                                                                                                                                                                                                                                                                                                                                                                                                                          | Default                                                                                                                                                                                                                                                          |
|-----------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `global.registry`                                                                                                     | Global Docker image registry                                                                                                                                                                                                                                                                                                                                                                                                         | ``                                                                                                                                                                                                                        |
| `global.flatRegistry`                                                                                                 | Ignore sub-path when set to `true`                                                                                                                                                                                                                                                                                                                                                                                                        | `false`                                                                                                                                                                                                                         |
| `global.serviceAccountName`                                                                                           | Global service account name which is mapped with RBAC provisioning                                                                                                                                                                                                                                                                                                                                                                   | `nil`                                                                                                                                                                                                                                                            |
| `global.statefulServiceAccountName`                                                                                   | Service Account to run Stateful set and istio task                                                                                                                                                                                                                                                                                                                                                                                   | `nil`                                                                                                                                                                                                                                                            |
| `global.masterRealmServiceAccountName`                                                                                | Service Account to run Master realm configuration tasks                                                                                                                                                                                                                                                                                                                                                                              | `nil`                                                                                                                                                                                                                                                            |
| `global.deletionServiceAccountName`                                                                                   | Service Account to run Deletion tasks in Keycloak  Deployment                                                                                                                                                                                                                                                                                                                                                                        | `nil`                                                                                                                                                                                                                                                            |
| `global.healingServiceAccountName`                                                                                    | Service Account to run Healing (pre heal and post heal) task                                                                                                                                                                                                                                                                                                                                                                         | `nil`                                                                                                                                                                                                                                                            |
| `global.brHookServiceAccountName`                                                                                     | Service Account to run backup restore task                                                                                                                                                                                                                                                                                                                                                                                           | `nil`                                                                                                                                                                                                                                                            |
| `global.isuServiceAccountName`                                                                                        | Service Account to run ISU rollback task                                                                                                                                                                                                                                                                                                                                                                                             | `nil`                                                                                                                                                                                                                                                            |
| `global.populateSecretAdminPasswordServiceAccountName`                                                                | Service Account to populate admin password in secret                                                                                                                                                                                                                                                                                                                                                                                 | `nil`                                                                                                                                                                                                                                                            |
| `global.resourceWatcherServiceAccountName`                                                                            | Service Account to run resource Watcher job                                                                                                                                                                                                                                                                                                                                                                                          | `nil`                                                                                                                                                                                                                                                            |
| `global.preheal`                                                                                                      | If preheal value is greater than 0 then pre-heal conditions is triggered                                                                                                                                                                                                                                                                                                                                                             | `0`                                                                                                                                                                                                                                                              |
| `global.postheal`                                                                                                     | If postheal value is greater than 0 then post-heal conditions is triggered                                                                                                                                                                                                                                                                                                                                                           | `0`                                                                                                                                                                                                                                                              |
| `global.enableDefaultCpuLimits`                                                                                       | Set to true to enable cpu.limits                                                                                                                       | `false`                                                                                                                   |
| `global.podNamePrefix`                                                                                                | podNamePrefix is the prefix to add to all pod (sts, job) resources                                                                                                                                                                                                                                                                                                                                                                   | `nil`                                                                                                                                                                                                                                                            |
| `global.containerNamePrefix`                                                                                          | containerNamePrefix is the prefix to add to all pod containers                                                                                                                                                                                                                                                                                                                                                                       | `nil`                                                                                                                                                                                                                                                            |
| `global.annotations`                                                                                                  | Global annotations for CKEY statefulset                                                                                                                                                                                                                                                                                                                                                                                              | `{}`                                                                                                                                                                                                                                                             |
| `global.labels`                                                                                                       | Global labels for CKEY statefulset                                                                                                                                                                                                                                                                                                                                                                                                   | `{}`                                                                                                                                                                                                                                                             |
| `global.timeZoneEnv`                                                                                                  | Setting docker env variable TZ. Example values: America/New_York or GST-10                                                                                                                                                                                                                                                                                                                                                           | ``                                                                                                                                                                                                                                                               |
| `global.priorityClassName`                                                                                            | Kubernetes priority class name                                                                                                                                                                                                                                                                                                                                                                                                       | ``                                                                                                                                                                                                                                                               |
| `global.hpa.enabled`                                                                                                  | If true, enables the HPA for keycloak Statefulset/s.                                                                                                                                                                                                                                                                                                                                                                                 | `False`                                                                                                                                                                                                                                                          |
| `automountServiceAccountToken`                                                                                        | Enable automountServiceAccountToken in CKEY statefulset. Set to true if you are adding extension which requires access to kubernetes API                                                                                                                                                                                                                                                                                             | false                                                                                                                                                                                                                                                            |
| `rbac.enabled`                                                                                                        | It configures RBAC (Role based access control) according to our requirements. If rbac.enabled is true and no serviceAccountName is specified then role, rolebinding and service account is created by this chart. If rbac.enabled is true and an external serviceAccount is mentioned in serviceAccountName then this external serviceAccount is used during deployment. If rbac.enabled is false then no service account is used.   | true                                                                                                                                                                                                                                                             |
| `clusterDomain`                                                                                                       | Cluster domain name of namespace                                                                                                                                                                                                                                                                                                                                                                                                     | `cluster.local`                                                                                                                                                                                                                                                  |
| `imageRepo`                                                                                                           | Image repository path of namespace                                                                                                                                                                                                                                                                                                                                                                                                   | `keycloak/4492/keycloak-ha`                                                                                                                                                                                                                                      |
| `imageTag`                                                                                                            | Image tag number of namespace                                                                                                                                                                                                                                                                                                                                                                                                        | `11.0.0-1`                                                                                                                                                                                                                                                       |
| `pullPolicy`                                                                                                          | Image pull policy of cluster namespace                                                                                                                                                                                                                                                                                                                                                                                               | `IfNotPresent`                                                                                                                                                                                                                                                   |
| `enableDefaultCpuLimits`                                                                                              | To enable cpu.limits                                                                                                                                   | `False`                                                                                                                   |
| `podManagementPolicy`                                                                                                 | Parameter to control CKEY pod start behaviour. Possible values are "Parallel" or "OrderedReady"                                                                                                                                                                                                                                                                                                                                      | `Parallel`                                                                                                                                                                                                                                                       |
| `kcHealthcheckEndpointEnabled`                                                                                        | Enable Keycloak Database Health End Point. Possible values are true/false.                                                                                                                                                                                                                                                                                                                                                           | true                                                                                                                                                                                                                                                             |
| `kcMetricsEndpointEnabled`                                                                                            | Enable Keycloak Quarkus Metrics EnPoint. Possible values are true/false.                                                                                                                                                                                                                                                                                                                                                             | true                                                                                                                                                                                                                                                             |
| `kcshCommandLine`                                                                                                     | Command line for Keycloak start command kc.sh. E.g. "start-dev". If empty "start" will be used.                                                                                                                                                                                                                                                                                                                                      | ``                                                                                                                                                                                                                                                               |
| `images.keycloak.imageRepo` | Keycloak Image path | `keycloak` |
| `images.keycloak.imageName` | Keycloak Image name | `ckey-quarkus` |
| `images.keycloak.imageTag`  | Keycloak image tag | `22.0.3-1-2214` |
| `images.keycloak.imagePullSecrets` | Secret to access Keycloak image repository | `` |
| `images.masterRealmConfigJob.imageRepo` | Master Realm Configuration Job Image path | `keycloak` |
| `images.masterRealmConfigJob.imageName` | Master Realm Configuration Job Image name | `keycloak-py` |
| `images.masterRealmConfigJob.imageTag`  | Master Realm Configuration Job image tag | `1.0.23-60` |
| `images.masterRealmConfigJob.imagePullSecrets` | Secret to access Master Realm Configuration Job image repository | `` |
| `images.kubectl.imageRepo` | Kubernetes Image path | `tools` |
| `images.kubectl.imageName` | Kubernetes Image name | `kubectl` |
| `images.kubectl.imageTag`  | Kubernetes image tag | `1.26.8-rocky-nano-20230901` |
| `images.kubectl.imagePullSecrets` | Secret to access Kubernetes image repository | `` |
| `disablePodNamePrefixRestrictions` | Set this flag to true if podNamePrefix should not be truncated. Default value will be false | `false`|
| `commonLabels`                                                                                                        | Set to true to include common labels                                                                                                                                                                                                                                                                                                                                                                                                 | `false`                                                                                                                                                                                                                                                          |
| `managedBy`                                                                                                           | Value for app.kubernetes.io/managed-by label                                                                                                                                                                                                                                                                                                                                                                                         | `false`                                                                                                                                                                                                                                                          |
| `partOf`                                                                                                              | Value for app.kubernetes.io/part-of label                                                                                                                                                                                                                                                                                                                                                                                            | `ckey`                                                                                                                                                                                                                                                           |
| `removeChartNameFromResourceName`                                                                                     | If release name contains "ckey", Helm will remove "ckey" from the k8s resource names                                                                                                                                                                                                                                                                                                                                                 | `false`                                                                                                                                                                                                                                                          |
| `priorityClassName`                                                                                                   | Kubernetes priority class name                                                                                                                                                                                                                                                                                                                                                                                                       | ``                                                                                                                                                                                                                                                               |
| `liveProbeErrors`                                                                                                     | LiveProbe condition is used to know when to start a container. liveProbeErrors is used to represent error that occured during LiveProbe condition. It gives error id stored in logs                                                                                                                                                                                                                                                  | `false`                                                                                                                                                                                                                                                          |
| `liveProbeErrorCount`                                                                                                 | LiveProbe error count number                                                                                                                                                                                                                                                                                                                                                                                                         | `1`                                                                                                                                                                                                                                                              |
| `liveProbeExceptions`                                                                                                 | liveProbeExceptions is used to represent any exception occurs during LiveProbe condition. It represent exception id stored in logs                                                                                                                                                                                                                                                                                                   | `c3FsLlNRTEV4Y2VwdGlvbjogQ29ubmVjdGlvbiBpcyBjbG9zZWQ&#x3D;`                                                                                                                                                                                                      |
| `liveProbeExceptionCount`                                                                                             | LiveProbe error count number                                                                                                                                                                                                                                                                                                                                                                                                         | `10`                                                                                                                                                                                                                                                             |
| `replicaCount`                                                                                                        | Keycloak number of replicas                                                                                                                                                                                                                                                                                                                                                                                                          | `2`                                                                                                                                                                                                                                                              |
| `cacheConfigMap`                                                                                                      | Name of ConfigMap with Keycloak cache configuration xml                                                                                                                                                                                                                                                                                                                                                                              | ``                                                                                                                                                                                                                                                               |
| `custom.statefulset.annotations`                                                                                      | Custom annotations for CKEY statefulsets                                                                                                                                                                                                                                                                                                                                                                                             | `{}`                                                                                                                                                                                                                                                             |
| `custom.statefulset.labels`                                                                                           | Custom labels for CKEY statefulsets                                                                                                                                                                                                                                                                                                                                                                                                  | `{}`                                                                                                                                                                                                                                                             |
| `securityContext.runAsUser`                                                                                           | Defaults to user specified in image metadata if unspecified                                                                                                                                                                                                                                                                                                                                                                          | `1000`                                                                                                                                                                                                                                                           |
| `securityContext.fsGroup`                                                                                             | A special supplemental group that applies to all containers in a pod. Some volume types allow the Kubelet to change the ownership of that volume to be owned by the pod: 1. The owning GID will be the FSGroup 2. The setgid bit is set (new files created in the volume will be owned by FSGroup) 3. The permission bits are OR'd with rw-rw---- If unset, the Kubelet will not modify the ownership and permissions of any volume. | `1000`                                                                                                                                                                                                                                                           |
| `securityContext.runAsNonRoot`                                                                                        | Indicates that the container must run as a non-root user. If true, the Kubelet will validate the image at runtime to ensure that it does not run as UID 0 (root) and fail to start the container if it does                                                                                                                                                                                                                          | `true`                                                                                                                                                                                                                                                           |
| `containerSecurityContext`                                                                                            | securityContext defined in this section will be applied to all containers of ckey chart.                                                                                                                                                                                                                                                                                                                                             | ``                                                                                                                                                                                                                                                               |
| `secretCredentials.ckeySecret`                                                                                        | If `secretCredentials.ckeySecret` is provided, all sensitive information inside values.yaml will not be used. CKEY chart will instead use values from the secret provided in `secretCredentials.ckeySecret` along with the value associated with the secret attributes as configured                                                                                                                                                 | ``                                                                                                                                                                                                                                                               |
| `secretCredentials.dbSecret`                                                                                          | If `secretCredentials.dbSecret` is provided, database password will be used from this secret.                                                                                                                                                                                                                                                                                                                                        | ``                                                                                                                                                                                                                                                               |
| `secretCredentials.keystoreSecret`                                                                                    | If `secretCredentials.keystoreSecret` is provided, keycloak's server certificates will be used from this secret.                                                                                                                                                                                                                                                                                                                     | ``                                                                                                                                                                                                                                                               |
| `secretCredentials.truststoreSecret`                                                                                  | If `secretCredentials.truststoreSecret` is provided, keycloak's trustore that contains MariaDB, LDAP certs will be used from this secret.                                                                                                                                                                                                                                                                                            | ``                                                                                                                                                                                                                                                               |
| `secretCredentials.dbKeystoreSecret` | `TLS client certificates for database mTLS encryption` | `` |
| `secretCredentials.rabbitMqPushEventListenerSecret` | `RabbitMQ configuration as a secret` | `` |
| `repopulateSecretAdminPasswordField`                                                                                  | Option to decide whether to repopulate admin password field in secret upon Helm upgrade/rollback                                                                                                                                                                                                                                                                                                                                     | `true`                                                                                                                                                                                                                                                           |
| `tlsVersionList`                                                                                                      | Enabled TLS Versions. To add more versions follow format and add it below 'tlsVersionList', each version must be printed on a new line.. Note: TLS version 1.0 is represented as TLSv1                                                                                                                                                                                                                                               | `TLSv1.2,TLSv1.3`                                                                                                                                                                                                                                                |
| `dbName`                                                                                                              | Database Name                                                                                                                                                                                                                                                                                                                                                                                                                        | `db4keycloak`                                                                                                                                                                                                                                                    |
| `dbUser`                                                                                                              | Database username                                                                                                                                                                                                                                                                                                                                                                                                                    | `keycloak`                                                                                                                                                                                                                                                       |
| `jdbcParams`                                                                                                          | jdbc param route to connect to jdbc                                                                                                                                                                                                                                                                                                                                                                                                  | `?autoReconnect&#x3D;true`                                                                                                                                                                                                                                       |
| `dbAddress`                                                                                                           | Address of a database server. Typical value is a service name of CMDB                                                                                                                                                                                                                                                                                                                                                                | ``                                                                                                                                                                                                                                                               |
| `dbPort`                                                                                                              | Database port number (this variable is ignored if cmdb.enabled: true)                                                                                                                                                                                                                                                                                                                                                                | `3306`                                                                                                                                                                                                                                                           |
| `httpsPort`                                                                                                           | Keycloak https port                                                                                                                                                                                                                                                                                                                                                                                                                  | `8443`                                                                                                                                                                                                                                                           |
| `httpPort`                                                                                                            | Keycloak http port                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                  |
| `jgroupsTCPBindPort` | `Internal TCP port for infinispan service` | `7800` |
| `jgroupsFDPort` | `The port through which JGroup determines failure` | `57800` |
| `serviceType`                                                                                                         | Types of CKEY service                                                                                                                                                                                                                                                                                                                                                                                                                | `ClusterIP`                                                                                                                                                                                                                                                      |
| `serviceClusterIp`                                                                                                    | ClusterIp of CKEY service                                                                                                                                                                                                                                                                                                                                                                                                            | ``                                                                                                                                                                                                                                                               |
| `healthCheckPort`                                                                                                     | Pod Health Check Port                                                                                                                                                                                                                                                                                                                                                                                                                | `8668`                                                                                                                                                                                                                                                           |
| `dbAlarmCheckPeriod`                                                                                                  | Database Alaram Check Duration                                                                                                                                                                                                                                                                                                                                                                                                       | `30000`                                                                                                                                                                                                                                                          |
| `certExpiryAlarmPeriod`                                                                                               | Harmonized Alarms Duration                                                                                                                                                                                                                                                                                                                                                                                                           | `10`                                                                                                                                                                                                                                                             |
| `databaseAlarmInitialDelay`                                                                                           | Database Alarm Initial Delay in seconds                                                                                                                                                                                                                                                                                                                                                                                              | `240`                                                                                                                                                                                                                                                            |
| `timezone.timeZoneEnv`                                                                                                | Setting docker env variable TZ. Example values: America/New_York or GST-10                                                                                                                                                                                                                                                                                                                                                           | ``                                                                                                                                                                                                                                                               |
| `nodeSelector`                                                                                                        | List of labels in form of key-value pairs. Should match corresponding labels on k8s nodes.                                                                                                                                                                                                                                                                                                                                           | `{}`                                                                                                                                                                                                                                                             |
| `nodeAffinity.enabled`                                                                                                | Node Affinity enabled/disables                                                                                                                                                                                                                                                                                                                                                                                                       | `false`                                                                                                                                                                                                                                                          |
| `nodeAffinity.key`                                                                                                    | Node Affinity Key                                                                                                                                                                                                                                                                                                                                                                                                                    | `is_worker`                                                                                                                                                                                                                                                      |
| `nodeAffinity.value`                                                                                                  | Node Affinity Value                                                                                                                                                                                                                                                                                                                                                                                                                  | `true`                                                                                                                                                                                                                                                           |
| `nodeAntiffinity.enabled`                                                                                             | If enabled set preferred antiaffinity to deploy pods across zones and hostnames                                                                                                                                                                                                                                                                                                                                                      | `true`                                                                                                                                                                                                                                                           |
| `resources.requests.memory`                                                                                           | Request Memory size                                                                                                                                                                                                                                                                                                                                                                                                                  | `1024Mi`                                                                                                                                                                                                                                                         |
| `resources.requests.cpu`                                                                                              | Requests CPU computation                                                                                                                                                                                                                                                                                                                                                                                                             | `500m`                                                                                                                                                                                                                                                           |
| `resources.limits.memory`                                                                                             | Limits memory size                                                                                                                                                                                                                                                                                                                                                                                                                   | `2048Mi`                                                                                                                                                                                                                                                         |
| `resources.limits.cpu`                                                                                                | Limits CPU computation                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                            |
| `memoryFactorForKeycloak`                                                                                             | Maximum memory in percentage alloted to Keycloak pod                                                                                                                                                                                                                                                                                                                                                                                      | `0.8` |
| `memoryFactorForUnifiedLogger`                                                                                        | Maximum memory in percentage alloted to Unified Logger                                                                                                                                                                                                                                                                                                                                                                                | `0.1` |
| `probeDelays.readinessProbeInitialDelay`                                                                              | Number of seconds after which readiness probe gets initital delay                                                                                                                                                                                                                                                                                                                                                                    | `180`                                                                                                                                                                                                                                                            |
| `probeDelays.readinessProbeTimeoutSeconds`                                                                            | Number of seconds after which readiness probe times out                                                                                                                                                                                                                                                                                                                                                                              | `1`                                                                                                                                                                                                                                                              |
| `probeDelays.readinessProbePeriodSeconds`                                                                             | Duration of readiness probe                                                                                                                                                                                                                                                                                                                                                                                                          | `15`                                                                                                                                                                                                                                                             |
| `probeDelays.livenessProbeInitialDelay`                                                                               | Number of seconds after which liveness probe gets initital delay                                                                                                                                                                                                                                                                                                                                                                     | `600`                                                                                                                                                                                                                                                            |
| `probeDelays.livenessProbeTimeoutSeconds`                                                                             | Number of seconds after which liveness probe times out                                                                                                                                                                                                                                                                                                                                                                               | `5`                                                                                                                                                                                                                                                              |
| `probeDelays.livenessProbePeriodSeconds`                                                                              | Duration of liveness probe                                                                                                                                                                                                                                                                                                                                                                                                           | `15`                                                                                                                                                                                                                                                             |
| `probeDelays.livenessProbeFailureThreshold`                                                                           | Threshold value count of consecutive livenessprobe failures, after which the pods will be restarted                                                                                                                                                                                                                                                                                                                                  | `5`                                                                                                                                                                                                                                                              |
| `global.unifiedLogging.extension` or `unifiedLogging.extension`                                                       | Flag to set new key value pairs in logs.                                                                                                                                                                                                                                                                                                                                                                                             | `{}`                                                                                                                                                                                                                                                             |
| `unifiedLogging.extensionConfigMap`                                                                                   | Extensions could be provided through a json file using this configmap.                                                                                                                                                                                                                                                                                                                                                               | ``                                                                                                                                                                                                                                                               |
| `unifiedLogging.customLog4jConfigMap`                                                                                 | All of Log4j2 configuration could be provided using this configMap                                                                                                                                                                                                                                                                                                                                                                   | ``                                                                                                                                                                                                                                                               |
| `global.certManager.enabled` | Global Certificate flag to be toggled for enable/disable. | `` |
| `global.unifiedLogging.syslog.enabled` or `unifiedLogging.syslog.enabled`                                             | Flag to configure rsyslog configuration to send to syslog server.                                                                                                                                                                                                                                                                                                                                                                    | `False`                                                                                                                                                                                                                                                          |
| `global.unifiedLogging.syslog.facility` or `unifiedLogging.syslog.facility`                                           | Flag to facility value                                                                                                                                                                                                                                                                                                                                                                                                               | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.host` or `unifiedLogging.syslog.host`                                                   | Flag to set host for syslog server                                                                                                                                                                                                                                                                                                                                                                                                   | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.port` or `unifiedLogging.syslog.port`                                                   | Flag to set port for syslog server                                                                                                                                                                                                                                                                                                                                                                                                   | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.protocol` or `unifiedLogging.syslog.protocol`                                           | Flag to set protocol for syslog server.                                                                                                                                                                                                                                                                                                                                                                                              | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.keyStore.secretName` or `unifiedLogging.syslog.keyStore.secretName`                     | Flag to set secret name which contains syslog.keyStore.key                                                                                                                                                                                                                                                                                                                                                                           | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.keyStore.key` or `unifiedLogging.syslog.keyStore.key`                                   | Flag to set keystore secret key                                                                                                                                                                                                                                                                                                                                                                                                      | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.keyStorePassword.secretName` or `unifiedLogging.syslog.keyStorePassword.secretName`     | Flag to set secret name which contains syslog.keyStorePassword.key.                                                                                                                                                                                                                                                                                                                                                                  | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.keyStorePassword.key` or `unifiedLogging.syslog.keyStorePassword.key`                   | Flag to set keystore password secret key                                                                                                                                                                                                                                                                                                                                                                                             | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.trustStore.secretName` or `unifiedLogging.syslog.trustStore.secretName`                 | Flag to set secret name which contains syslog.trustStore.key.                                                                                                                                                                                                                                                                                                                                                                        | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.trustStore.key` or `unifiedLogging.syslog.trustStore.key`                               | Flag to set truststore secret key                                                                                                                                                                                                                                                                                                                                                                                                    | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.trustStorePassword.secretName` or `unifiedLogging.syslog.trustStorePassword.secretName` | Flag to set secret name which contains syslog.trustStorePassword.key                                                                                                                                                                                                                                                                                                                                                                 | ``                                                                                                                                                                                                                                                               |
| `global.unifiedLogging.syslog.trustStorePassword.key` or `unifiedLogging.syslog.trustStorePassword.key`               | Flag to set truststore password key                                                                                                                                                                                                                                                                                                                                                                                                  | ``                                                                                                                                                                                                                                                               |
| `unifiedLogging.loggingJavaOpts`                                                                                      | LogHandler  JVM Configuration                                                                                                                                                                                                                                                                                                                                                                                                        | `-Xms90m -Xmx180m`                                                                                                                                                                                                                                               |
| `unifiedLogging.logLevel`                                                                                             | Keycloak Log level                                                                                                                                                                                                                                                                                                                                                                                                                   | `INFO`                                                                                                                                                                                                                                                           |
| `unifiedLogging.kcLog`                                                                                                | Keycloak Log Appenders list. Could be one or more of file, console and gelf                                                                                                                                                                                                                                                                                                                                                          | `gelf`                                                                                                                                                                                                                                                           |
| `internalKubectlRegistry`    | Registry of the Kubectl image | `csf-docker-delivered.repo.cci.nokia.net` |
| `internalCburRegistry`       | Registry of the CBUR image | `csf-docker-delivered.repo.cci.nokia.net` |
| `internalKeycloakRegistry`   | Registry of the Keycloak image | `csf-docker-delivered.repo.cci.nokia.net` |
| `internalKeycloakPyRegistry` | Registry of the Keycloak Python image | `csf-docker-delivered.repo.cci.nokia.net` |
| `internalCustomProviderRegistry` | Repo for a custom provider docker | `csf-docker-delivered.repo.cci.nokia.net` |
| `isuUpgrade.enabled`                                                                                                  | If true, enables ISU upgrade and ISU rollback                                         |  `True`                                                                                                                                                                                                                                                                |
| `isuUpgrade.cburBackup.enabled` | This flag is used to enable/disable cbur backup during In-service upgrade/rollback | `True` |
| `isuUpgrade.dbSwitching.enabled` |  This flag is used to control the creation of temporary database that gets created for isu statefulset pods | `True` |
| `isuUpgrade.traceLogging`                                                                                             | Enable trace logging for isu upgrade jobs                                                                                                                                                                                                                                                                                                                                                                                            | `false`                                                                                                                                                                                                                                                          |
| `isuUpgrade.tmpPodsReplicaCount`                                                                                      | Number of temporary ckey pods during ISU upgrade                                                                                                                                                                                                                                                                                                                                                                                     | `2`                                                                                                                                                                                                                                                              |
| `isuUpgrade.excludeCheckPattern`                                                                                      | URL Pattern that prevents Keycloak from blocking requests during in-service upgrade                                                                                                                                                                                                                                                                                                                                                  | `/access/.*/(authenticate or token).* OR token).*`                                                                                                                                                                                                               |
| `isuUpgrade.cbur.host`                                                                                                | CBUR host for ISU job to call backup API                                                                                                                                                                                                                                                                                                                                                                                             | `http://cbur-master-cbur.ncms.svc:80`                                                                                                                                                                                                                            |
| `isuUpgrade.cbur.username`                                                                                            | cbur username                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                  |
| `isuUpgrade.cbur.passwordSecret.name`                                                                                 | If "passwordSecret.name" and "passwordSecret.attribute" is defined, "password" will be ignored                                                                                                                                                                                                                                                                                                                                       | ``                                                                                                                                                                                                                                                               |
| `isuUpgrade.cbur.passwordSecret.attribute`                                                                            | If "passwordSecret.name" and "passwordSecret.attribute" is defined, "password" will be ignored                                                                                                                                                                                                                                                                                                                                       | ``                                                                                                                                                                                                                                                               |
| `isuUpgrade.preserveBackupRestoreMechanism`                                                                           | Indicate whether ISU should also backup/restore Keycloak data inside database                                                                                                                                                                                                                                                                                                                                                        | `false`                                                                                                                                                                                                                                                          |
| `tls.useCaCert`                                                                                                       | If enabled, CKEY jobs will use ca crt for curl requests.                                                                                                                                                                                                                                                                                                                                                                             | `False`                                                                                                                                                                                                                                                          |
| `tls.caCert`                                                                                                          | Certificate authority cert to be used                                                                                                                                                                                                                                                                                                                                                                                                | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.enabled`                                                                                             | Flag to use the k8s certificate manager by default                                                                                                                                                                                                                                                                                                                                                                                   | `False`                                                                                                                                                                                                                                                          |
| `tls.certManager.duration`                                                                                            | Duration of the keys to be valid                                                                                                                                                                                                                                                                                                                                                                                                     | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.renewBefore`                                                                                         | Duration before keys will be renewed                                                                                                                                                                                                                                                                                                                                                                                                 | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.commonName`                                                                                          | Common name of the CKEY application                                                                                                                                                                                                                                                                                                                                                                                                  | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.caIssuer.name`                                                                                       | CA cert issuer                                                                                                                                                                                                                                                                                                                                                                                                                       | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.caIssuer.kind`                                                                                       | CA cert kind                                                                                                                                                                                                                                                                                                                                                                                                                         | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.caIssuer.group`                                                                                      | CA cert group                                                                                                                                                                                                                                                                                                                                                                                                                        | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.dnsName1`                                                                                            | CKEY endpoint dns name.                                                                                                                                                                                                                                                                                                                                                                                                              | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.dnsName2`                                                                                            | CKEY endpoint dns name.                                                                                                                                                                                                                                                                                                                                                                                                              | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.uris`                                                                                                | CA cert uris                                                                                                                                                                                                                                                                                                                                                                                                                         | `127.0.0.1 or ::1`                                                                                                                                                                                                                                               |
| `tls.certManager.ipAddresses`                                                                                         | CA cert ipAddresses                                                                                                                                                                                                                                                                                                                                                                                                                  | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.privateKey.algorithm`                                                                                | CA cert privateKey algorithm                                                                                                                                                                                                                                                                                                                                                                                                         | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.privateKey.encoding`                                                                                 | CA cert privateKey encoding                                                                                                                                                                                                                                                                                                                                                                                                          | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.privateKey.size`                                                                                     | CA cert privateKey size                                                                                                                                                                                                                                                                                                                                                                                                              | `nil`                                                                                                                                                                                                                                                            |
| `tls.certManager.privateKey.rotationPolicy`                                                                           | CA cert privateKey   rotationPolicy                                                                                                                                                                                                                                                                                                                                                                                                  | `Always`                                                                                                                                                                                                                                                         |
| `tls.certManager.isTlsExternalCertViaCertManager` | CertManager generates certificate for ingress when true | `false` |
| `metric.annotations.prometheus.io/scrape`                                                                             | If true, it tells Prometheus  not to scrape the metrics fron Keycloak endpoints                                                                                                                                                                                                                                                                                                                                                      | `false`                                                                                                                                                                                                                                                          |
| `metric.annotations.prometheus.io/path`                                                                               | Path from which Prometheus scrapes the metrics                                                                                                                                                                                                                                                                                                                                                                                       | `/access/realms/master/metrics`                                                                                                                                                                                                                                  |
| `metric.annotations.prometheus.io/scheme`                                                                             |  Specifies the expected scheme (protocol) for scraping metrics from a target in Prometheus                                                                                                                                                                                                                                                                                                                                                      | `http`                                                                                                                                                                                                                                                          |
| `metric.uriMetricsEnabled` | Enabled URI metrics. Allowed values: true/false | `true` |
| `metric.uriMetricsDetailed` | Enabled detailed URI metrics. Allowed values: true/false | `false` |
| `metric.scrapeMetricsOnHttpPort` | To scrape the metrics from httpPort enable httpPortEnabled flag and set httpPort value. Allowed values: true/false | `false` |
|`preserve_keycloak_pvc`                                                                                               | If enabled, it will preserve PVC on delete                                                                                                                                                                                                                                                                                                                                                                                           | `false`                                                                                                                                                                                                                                                          |
| `initBusyBoxContainer.resources.requests.memory`                                                                      | Allowed Memory for initBusyBoxContainer                                                                                                                                                                                                                                                                                                                                                                                              | `256Mi`                                                                                                                                                                                                                                                          |
| `initBusyBoxContainer.resources.requests.cpu`                                                                         | Allowed Computational power for initBusyBoxContainer                                                                                                                                                                                                                                                                                                                                                                                 | `250m`                                                                                                                                                                                                                                                           |
| `initBusyBoxContainer.resources.requests.ephemeral-storage`                                                           | Allowed ephemeral-storage for initBusyBoxContainer                                                                                                                                                                                                                                                                                                                                                                                   | `2Gi`                                                                                                                                                                                                                                                            |
| `initBusyBoxContainer.resources.limits.memory`                                                                        | Maximum memory for initBusyBoxContainer                                                                                                                                                                                                                                                                                                                                                                                              | `256Mi`                                                                                                                                                                                                                                                          |
| `initBusyBoxContainer.resources.limits.cpu`                                                                           | Maximum computational power for initBusyBoxContainer                                                                                                                                                                                                                                                                                                                                                                                 | `250m`                                                                                                                                                                                                                                                           |
| `initBusyBoxContainer.resources.limits.ephemeral-storage`                                                             | Maximum ephemeral-storage for initBusyBoxContainer                                                                                                                                                                                                                                                                                                                                                                                   | `2Gi`                                                                                                                                                                                                                                                            |
| `extraEnv`                                                                                                            | Extra environment variables                                                                                                                                                                                                                                                                                                                                                                                                          | ``                                                                                                                                                                                                                                                               |
| `customJavaOpts`                                                                                                      | Appends string to JAVA_OPTS in wildfly server                                                                                                                                                                                                                                                                                                                                                                                        | ``                                                                                                                                                                                                                                                               |
| `hookDeletePolicy`                                                                                                    | hook-delete-policy for jobs except secret cleanup job                                                                                                                                                                                                                                                                                                                                                                                | `before-hook-creation, hook-succeeded`                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.enabled`                                                                                 | If set to false, the job will not run and all the values in this section will not be used                                                                                                                                                                                                                                                                                                                                            | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.overwritePasswordTimestamp`                                                              | This variable is needed when setting the passwordExpiry policy for the first time. If you set this to false, you will be required to manually update your password through the admin console.                                                                                                                                                                                                                                        | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.enableForgotPassword`                                                                    | Forgot Password Option                                                                                                                                                                                                                                                                                                                                                                                                               | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.enableBruteForceProtection`                                                              | Brute Force Detection for Master realm                                                                                                                                                                                                                                                                                                                                                                                               | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.overwritePasswordPolicies`                                                               | If the option below is set to true, the password policies that will be set are the following: password expiry: 90 days,minimum length: 8,special charaters(minimum): 1, upper case characters(minimum): 1, lower case characters (minimum): 1, password history (not recently used): 3, password blacklist: linux.words from /opt, keycloak/standalone/data, password-blacklists                                                     | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.enableLoginEvents`                                                                       | Login Events                                                                                                                                                                                                                                                                                                                                                                                                                         | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.enableAdminEvents`                                                                       | Admin Events                                                                                                                                                                                                                                                                                                                                                                                                                         | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.loginEventsExpiration`                                                                   | Login Events expiration time in minutes                                                                                                                                                                                                                                                                                                                                                                                              | `129600`                                                                                                                                                                                                                                                         |
| `masterRealmConfigurationJob.adminEventsExpiration`                                                                   | Admin Events expiration time in minutes                                                                                                                                                                                                                                                                                                                                                                                              | `1576800`                                                                                                                                                                                                                                                        |
| `masterRealmConfigurationJob.enableSSLRequireForAll`                                                                  | SSL by default for all                                                                                                                                                                                                                                                                                                                                                                                                               | `true`                                                                                                                                                                                                                                                           |
| `masterRealmConfigurationJob.setNokiaLoginTheme`                                                                      | Set Nokia Login theme                                                                                                                                                                                                                                                                                                                                                                                                                | `true`                                                                                                                                                                                                                                                           |
| `resourceWatcherJob.enabled`                                                                                          | If set to false, the resource watcher job will not run.                                                                                                                                                                                                                                                                                                                                                                              | `false`                                                                                                                                                                                                                                                          |
| `images.resourceWatcherJob.imageRepo` | Resource Watcher Job Image path | `keycloak` |
| `images.resourceWatcherJob.imageName` | Resource Watcher Job Image name | `keycloak-py` |
| `images.resourceWatcherJob.imageTag`  | Resource Watcher Job image tag | `1.0.23-60` |
| `images.resourceWatcherJob.imagePullSecrets` | Secret to access Resource Watcher Job image repository | `` |
| `customPreStartScript`                                                                                                | Custom script to run before starting servers                                                                                                                                                                                                                                                                                                                                                                                         | ``                                                                                                                                                                                                                                                               |
| `pushEventListenerData.notificationReceiverList`                                                                      | Notifier will send pushEvent request to following URLs                                                                                                                                                                                                                                                                                                                                                                               | ``                                                                                                                                                                                                                                                               |
| `pushEventListenerData.pushConfigMapName`                                                                             | Notifier will send pushEvent request to following URLs                                                                                                                                                                                                                                                                                                                                                                               | ``                                                                                                                                                                                                                                                               |
| `genericEventListenerData.notificationReceiverList`                                                                   | Notifier will send genericEvent request to following URLs                                                                                                                                                                                                                                                                                                                                                                            | ``                                                                                                                                                                                                                                                               |
| `loginBannerTitle`                                                                                                    | Login Banner Title                                                                                                                                                                                                                                                                                                                                                                                                                   | `Login Banner`                                                                                                                                                                                                                                                   |
| `loginBannerWelcomeFirstNameMessage`                                                                                  | Welcome Firstname Message for Login Banner                                                                                                                                                                                                                                                                                                                                                                                           | `Welcome, {0}.`                                                                                                                                                                                                                                                  |
| `loginBannerWelcomeUsernameMessage`                                                                                   | Welcome Username message for Login banner                                                                                                                                                                                                                                                                                                                                                                                            | `Welcome, {0}.`                                                                                                                                                                                                                                                  |
| `loginBannerPreviousSuccessMessage`                                                                                   | Previous Success Message for Login Banner                                                                                                                                                                                                                                                                                                                                                                                            | `Your last successful login was on {0}.`                                                                                                                                                                                                                         |
| `loginBannerFailedLoginCounterMessage`                                                                                | Message to display Failed Login Attempts Count after last successful login for Login Banner                                                                                                                                                                                                                                                                                                                                                                                            | `Failed login attempts after last successful login`                                                                                                                                                                                                                         |
| `loginBannerMainMessage`                                                                                              | Login Banner Main message                                                                                                                                                                                                                                                                                                                                                                                                            | `You are about to access a private system. This system is for the use of authorized users only. All connections are logged. Any unauthorized access or access attempts may be punishable to the fullest extent possible under the applicable local legislation.` |
| `loginBannerAcceptMessage`                                                                                            | Accept Message for Login Banner                                                                                                                                                                                                                                                                                                                                                                                                      | `OK`                                                                                                                                                                                                                                                             |
| `pdb.enabled`                                                                                                         | PodDisruptionBudget for ckey pods                                                                                                                                                                                                                                                                                                                                                                                                    | `false`                                                                                                                                                                                                                                                          |
| `pdb.minAvailable`                                                                                                    | One of values minAvailable or maxUnavailable should be set to number of pods or percentage                                                                                                                                                                                                                                                                                                                                           | ``                                                                                                                                                                                                                                                               |
| `pdb.maxUnavailable`                                                                                                  | One of values minAvailable or maxUnavailable should be set to number of pods or percentage                                                                                                                                                                                                                                                                                                                                           | ``                                                                                                                                                                                                                                                               |
| `topologySpreadConstraints`                                                                                           | Allows control of how keycloak pods are spread across cluster among failure-domains such as regions, zones, nodes, and other user-defined topology domains.                                                                                                                                                                                                                                                                          | `[]`                                                                                                                                                                                                                                                             |
| `hpa.enabled`                                                                                                         | If true, creates the HPA for keycloak Statefulset.                                                                                                                                                                                                                                                                                                                                                                                   | `False`                                                                                                                                                                                                                                                          |
| `hpa.minReplicas`                                                                                                     | Sets Minimum number of pods in keycloak Statefulset.                                                                                                                                                                                                                                                                                                                                                                                 | `1`                                                                                                                                                                                                                                                              |
| `hpa.maxReplicas`                                                                                                     | Sets Maximum number of pods in keycloak Statefulset.                                                                                                                                                                                                                                                                                                                                                                                 | `2`                                                                                                                                                                                                                                                              |
| `hpa.predefinedMetrics.enabled`                                                                                       | Enable predefined metrics for HPA                                                                                                                                                                                                                                                                                                                                                                                                    | `True`                                                                                                                                                                                                                                                           |
| `hpa.predefinedMetrics.averageCPUThreshold`                                                                           | Avg Percentage of keycloak CPU value threshold on which the HPA will trigger autoscale using its algorithm.                                                                                                                                                                                                                                                                                                                          | `80`                                                                                                                                                                                                                                                             |
| `hpa.predefinedMetrics.averageMemoryThreshold`                                                                        | Avg Percentage of keycloak Memory value threshold on which the HPA will trigger autoscale using its algorithm.                                                                                                                                                                                                                                                                                                                       | `80`                                                                                                                                                                                                                                                             |
| `hpa.metrics`                                                                                                         | Users can provide their own custom metrics on which they can perform the autoscale operation.                                                                                                                                                                                                                                                                                                                                        | `[]`                                                                                                                                                                                                                                                             |
| `istio.enabled`                                                                                                       | If true, it will istio will be used for connecting and managing microservices                                                                                                                                                                                                                                                                                                                                                        | `false`                                                                                                                                                                                                                                                          |
| `istio.version`                                                                                                       | Current Istio version inside cluster                                                                                                                                                                                                                                                                                                                                                                                                 | `1.4`                                                                                                                                                                                                                                                            |
| `istio.cni.enabled`                                                                                                   | If true, istio will use CNI (Container Network Interface)                                                                                                                                                                                                                                                                                                                                                                            | `false`                                                                                                                                                                                                                                                          |
| `istio.resources`                                                                                                     | Set resource CPU and memory limit and request for istio-proxy container                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                  |
| `istio.sharedHttpGateway.namespace`                                                                                   | The namespace for shared Istio gateway                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                  |
| `istio.sharedHttpGateway.name`                                                                                        | The name of shared Istio gateway                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                  |
| `istio.prefixReleaseNameForGatewayName`                                                                               | If true, CKEY chart will add Release name to the beginning of every gateway names                                                                                                                                                                                                                                                                                                                                                    | `true`                                                                                                                                                                                                                                                           |
| `istio.drCredentialName`                                                                                              | The name of the secret that holds the TLS certs for the client including the CA certificates.                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                  |
| `istio.gateway.ckey-gw`                                                                                              | istio gateway name                                                                                                                                                                                                                                                                                                                                                                                                                   | `ckey-gw`                                                                                                                                                                                                                                                        |
| `istio.gateway.enabled`                                                                                              | if true, istio will use gateway for connecting                                                                                                                                                                                                                                                                                                                                                                                       | `false`                                                                                                                                                                                                                                                          |
| `istio.gateway.labels`                                                                                               | Custom label for CKEY Istio gateway                                                                                                                                                                                                                                                                                                                                                                                                  | `{}`                                                                                                                                                                                                                                                             |
| `istio.gateway.annotations`                                                                                          | Custom annotations for Istio gateway                                                                                                                                                                                                                                                                                                                                                                                                 | `{}`                                                                                                                                                                                                                                                             |
| `istio.gateway.ingressPodSelector`                                                                                   | Customized selectors for istio gateway                                                                                                                                                                                                                                                                                                                                                                                               | `istio: ingressgateway`                                                                                                                                                                                                                                          |
| `istio.gateway.port`                                                                                                 | Gateway port for this gateway                                                                                                                                                                                                                                                                                                                                                                                                        | `443`                                                                                                                                                                                                                                                            |
| `istio.gateway.protocol`                                                                                             | Protocol associated with this Istio gateway port                                                                                                                                                                                                                                                                                                                                                                                     | `HTTPS`                                                                                                                                                                                                                                                          |
| `istio.gateway.hosts`                                                                                                | List of istio gatway hosts                                                                                                                                                                                                                                                                                                                                                                                                           | `- *`                                                                                                                                                                                                                                                      |
| `istio.gateway.tls.redirect`                                                                                         | If true, Istio will redirect from HTTP ports to TLS port                                                                                                                                                                                                                                                                                                                                                                             | `false`                                                                                                                                                                                                                                                          |
| `istio.gateway.tls.mode`                                                                                             | Istio gateway TLS mode                                                                                                                                                                                                                                                                                                                                                                                                               | `PASSTHROUGH`                                                                                                                                                                                                                                                    |
| `istio.gateway.tls.credentialName`                                                                                   | Istio gateway secret name that contains certificates for TLS connection                                                                                                                                                                                                                                                                                                                                                              | ``                                                                                                                                                                                                                                                               |
| `istio.gateway.tls.custom`                                                                                           | Custom TLS configuration for Istio gateway                                                                                                                                                                                                                                                                                                                                                                                           | `{}`                                                                                                                                                                                                                                                             |
| `cbur.enabled`                                                                                                        | if true, it will use CBUR values for CMDB chart                                                                                                                                                                                                                                                                                                                                                                                      | `true`                                                                                                                                                                                                                                                           |
| `cbur.brPolicyWeight`                                                                                                 | policy levels                                                                                                                                                                                                                                                                                                                                                                                                                        | `5`                                                                                                                                                                                                                                                              |
| `cbur.cronSpec`                                                                                                       | cbur cron specs                                                                                                                                                                                                                                                                                                                                                                                                                      | `0 0 * * *`                                                                                                                                                                                                                                                      |
| `cbur.maxiCopy`                                                                                                       | It defines how many backup copies should be saved                                                                                                                                                                                                                                                                                                                                                                                    | `5`                                                                                                                                                                                                                                                              |
| `cbur.ignoreFileChanged`                                                                                              | if true, cbur will ignore file changes                                                                                                                                                                                                                                                                                                                                                                                               | `true`                                                                                                                                                                                                                                                           |
| `cbur.autoEnableCron`                                                                                                 | if true, cron will be auto enabled                                                                                                                                                                                                                                                                                                                                                                                                   | `false`                                                                                                                                                                                                                                                          |
| `cbur.autoUpdateCron`                                                                                                 | if true, cron will be auto updated in cbur                                                                                                                                                                                                                                                                                                                                                                                           | `false`                                                                                                                                                                                                                                                          |
| `cbur.apiVersion`                                                                                                     | cbur API Version is set                                                                                                                                                                                                                                                                                                                                                                                                              | `cbur.csf.nokia.com/v1`                                                                                                                                                                                                                                          |
| `cbur.securityContext.readOnlyRootFilesystem`                                                                         | Setting to true is needed for backup of depended CMDB database                                                                                                                                                                                                                                                                                                                                                                       | `true`                                                                                                                                                                                                                                                           |
| `images.cbur.imageRepo` | CBUR Image path | `tools` |
| `images.cbur.imageName` | CBUR Image name | `kubectl` |
| `images.cbur.imageTag`  | CBUR image tag | `1.0.3-5650` |
| `images.cbur.imagePullSecrets` | Secret to access CBUR image repository | `` |
| `images.pullPolicy`                                                                                                   | image pull policy for cbur                                                                                                                                                                                                                                                                                                                                                                                                           | `IfNotPresent`                                                                                                                                                                                                                                                   |
| `cbur.securityContext.runAsUser`                                                                                      | Defaults to user specified in image metadata if unspecified                                                                                                                                                                                                                                                                                                                                                                          | `1000`                                                                                                                                                                                                                                                           |
| `cbur.securityContext.runAsGroup`                                                                                     | Defaults to run as group in image metdata if unspecified                                                                                                                                                                                                                                                                                                                                                                             | `1000`                                                                                                                                                                                                                                                           |
| `cbur.backupStorage.size`                                                                                             | Size of backup storage in CBUR                                                                                                                                                                                                                                                                                                                                                                                                       | `400Mi`                                                                                                                                                                                                                                                          |
| `cbur.backupStorage.class`                                                                                            | Type of backup storage in CBUR                                                                                                                                                                                                                                                                                                                                                                                                       | ``                                                                                                                                                                                                                                                               |
| `cbur.resources.requests.memory`                                                                                      | Allowed memory for requests in CBUR                                                                                                                                                                                                                                                                                                                                                                                                  | `256Mi`                                                                                                                                                                                                                                                          |
| `cbur.resources.requests.cpu`                                                                                         | Allowed computational power for requests in CBUR                                                                                                                                                                                                                                                                                                                                                                                     | `250m`                                                                                                                                                                                                                                                           |
| `cbur.resources.limits.memory`                                                                                        | Allowed memory for limits                                                                                                                                                                                                                                                                                                                                                                                                            | `256Mi`                                                                                                                                                                                                                                                          |
| `cbur.resources.limits.cpu`                                                                                           | Allowed computational power for limits                                                                                                                                                                                                                                                                                                                                                                                               | `250m`                                                                                                                                                                                                                                                           |
| `cbur.brHookPostRestore.enable`                                                                                       | If enabled automatically restart ckey pods after restore.                                                                                                                                                                                                                                                                                                                                                                            | `false`                                                                                                                                                                                                                                                          |
| `cbur.brHookPostRestore.weight`                                                                                       | Number of Levels for restarting ckey pods                                                                                                                                                                                                                                                                                                                                                                                            | `5`                                                                                                                                                                                                                                                              |
| `cbur.brHookPostRestore.timeout`                                                                                      | Number of seconds after which postRestore hook times out                                                                                                                                                                                                                                                                                                                                                                             | `600`                                                                                                                                                                                                                                                            |
| `customProviders`                                                                                                     | Custom providers for CBUR                                                                                                                                                                                                                                                                                                                                                                                                            | ``                                                                                                                                                                                                                                                               |
| `ingress.enabled`                                                                                                     | If true, Keyclock Ingress will be created                                                                                                                                                                                                                                                                                                                                                                                            | `true`                                                                                                                                                                                                                                                           |
| `ingress.keycloakServicePort`                                                                                         | keycloak service port to use with ingress                                                                                                                                                                                                                                                                                                                                                                                            | `8443`                                                                                                                                                                                                                                                           |
| `ingress.annotations.nginx.ingress.kubernetes.io/affinity`                                                            | Affinity rules for Keycloak ingressing                                                                                                                                                                                                                                                                                                                                                                                               | `cookie`                                                                                                                                                                                                                                                         |
| `ingress.annotations.nginx.ingress.kubernetes.io/session-cookie-name`                                                 | Session cookie name to be used in Keycloak ingressing                                                                                                                                                                                                                                                                                                                                                                                | `route`                                                                                                                                                                                                                                                          |
| `ingress.allowedPaths`                                                                                                | Allowed paths on the ingresss                                                                                                                                                                                                                                                                                                                                                                                                        | path `/` with `Prefix` type                                                                                                                                                                                                                                      |
| `ingress.ingressClassName` | Set ingressClassName for ingress | `` |
| `frontendURL`                                                                                                         | To expose admin url, We need to specify the hostname url from which keycloak would be accessible. This effects only the admin UI                                                                                                                                                                                                                                                                                                     | ``                                                                                                                                                                                                                                                               |
| `httpRelativePath`                                                                                                    | httpRelativePath will be added to server FQDN to access WebSSO                                                                                                                                                                                                                                                                                                                                                                       | `/aceess`                                                                                                                                                                                                                                                        |
| `nameOverride`                                                                                                        | This replaces the value in ChartName                                                                                                                                                                                                                                                                                                                                                                                                 | ``                                                                                                                                                                                                                                                               |
| `fullnameOverride`                                                                                                    | Replace the entire name with the supplied value                                                                                                                                                                                                                                                                                                                                                                                      | ``                                                                                                                                                                                                                                                               |
| `serviceSessionAffinity` | SessionAffinity Options. Allowed values: ClientIP/None | `ClientIP` |
| `createOCPInternalCertificateSecretServiceAccountName` | Service Account to run a Job which creates ocp specific internal secret |  |
| `preUpgradeServiceAccountName` | Service Account to run Deletion tasks in Keycloak deployment |  |
| `podAntiAffinity.zone.type` | PodAffinity Zone Type |  |
| `podAntiAffinity.zone.topologyKey` | PodAffinity Zone topologyKey | `topology.kubernetes.io/zone` |
| `podAntiAffinity.node.type` | PodAffinity Node Type |  |
| `podAntiAffinity.node.topologyKey` | PodAffinity Node topologyKey | `kubernetes.io/hostname` |
| `istio.drTrafficPolicy.loadBalancer.consistentHash.httpCookie.name` | configure any of the traffic policies except portLevelSettings as it's automatically set with user configuration of other related parameters | `AUTH_SESSION_ID` |
| `terminationGracePeriodSecondsForSSO` | Termination grace period (in seconds).  Defaults to 30 seconds. | `30` |
| `cbur.terminationGracePeriodSecondsForSSO` | Termination grace period (in seconds).  Defaults to 30 seconds. | `30` |
