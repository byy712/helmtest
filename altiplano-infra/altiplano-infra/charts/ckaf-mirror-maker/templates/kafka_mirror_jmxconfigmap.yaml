apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "ckaf-mirror-maker.name" . }}
  labels:
{{ include "ckaf-mirror-maker.commonLabels" . | indent 4 }}
{{- include "csf-common-lib.v1.customLabels" (tuple .Values.global.labels) | indent 4 }}
    app: {{ .Chart.Name }}
    release: {{ .Release.Name }}
  annotations:
    seccomp.security.alpha.kubernetes.io/allowedProfileNames: {{ .Values.global.seccompAllowedProfileNames }}
    seccomp.security.alpha.kubernetes.io/defaultProfileName: {{ .Values.global.seccompDefaultProfileName }}
{{- include "csf-common-lib.v1.customAnnotations" (tuple .Values.global.annotations) | indent 4 }}
data:
  mirror-maker-jmx.yaml: |
   lowercaseOutputName: true
   lowercaseOutputLabelNames: true
   rules:
     - pattern: .*

