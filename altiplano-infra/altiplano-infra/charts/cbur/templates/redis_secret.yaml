---
{{- include "cbur.initCelery" . }}
{{- if .Values.direct_redis.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: cbur-redis
  labels:
    {{- include "cbur.proxy.commonLabels" (tuple . ) | indent 4 }}
    {{- include "cbur.customLabels" (tuple .Values.global.labels) | indent 4 }}
  annotations:
    {{- include "cbur.customAnnotations" (tuple .Values.global.annotations) | indent 4 }}
type: Opaque
data:
  redis-password: {{ randAlphaNum 64 | b64enc | quote }}
{{- end }}
