--- ckaf-kafka-8.0.2-origin/templates/pre-rollback.yaml	2024-02-20 15:47:14.000000000 +0530
+++ ckaf-kafka-8.0.2-nokia-patch-1/templates/pre-rollback.yaml	2024-01-31 08:47:55.000000000 +0530
@@ -20,6 +20,7 @@
   template:
     metadata:
       labels:
+        altiplano-role: {{ .Values.accessRoleLabel }}
         app: {{ .Chart.Name }}
 {{ include "ckaf-kafka.commonLabels" . | indent 8 }}
 {{- include "csf-common-lib.v1.customLabels" (tuple .Values.global.labels) | indent 8 }}
@@ -74,6 +75,9 @@
           {{- if ( ne ( toString ( .Values.security.runAsUser )) "auto" ) }}
           runAsUser: {{ .Values.security.runAsUser }}
           {{- end }}
+          {{- if .Values.security.runAsGroup }}
+          runAsGroup: {{ .Values.security.runAsGroup }}
+          {{- end }}
           allowPrivilegeEscalation: false
           {{- if eq (include "ckaf-kafka.renderSeccompProfile" .) "true" }}
           seccompProfile:
@@ -148,6 +152,7 @@
   template:
     metadata:
       labels:
+        altiplano-role: {{ .Values.accessRoleLabel }}
         app: {{ .Chart.Name }}
 {{ include "ckaf-kafka.commonLabels" . | indent 8 }}
 {{- include "csf-common-lib.v1.customLabels" (tuple .Values.global.labels) | indent 8 }}
@@ -202,6 +207,9 @@
           {{- if ( ne ( toString ( .Values.security.runAsUser )) "auto" ) }}
           runAsUser: {{ .Values.security.runAsUser }}
           {{- end }}
+          {{- if .Values.security.runAsGroup }}
+          runAsGroup: {{ .Values.security.runAsGroup }}
+          {{- end }}
           allowPrivilegeEscalation: false
           {{- if eq (include "ckaf-kafka.renderSeccompProfile" .) "true" }}
           seccompProfile:
@@ -287,6 +295,7 @@
   template:
     metadata:
       labels:
+        altiplano-role: {{ .Values.accessRoleLabel }}
         app: {{ .Chart.Name }}
 {{ include "ckaf-kafka.commonLabels" . | indent 8 }}
 {{- include "csf-common-lib.v1.customLabels" (tuple .Values.global.labels) | indent 8 }}
@@ -341,6 +350,9 @@
           {{- if ( ne ( toString ( .Values.security.runAsUser )) "auto" ) }}
           runAsUser: {{ .Values.security.runAsUser }}
           {{- end }}
+          {{- if .Values.security.runAsGroup }}
+          runAsGroup: {{ .Values.security.runAsGroup }}
+          {{- end }}
           allowPrivilegeEscalation: false
           {{- if eq (include "ckaf-kafka.renderSeccompProfile" .) "true" }}
           seccompProfile:
