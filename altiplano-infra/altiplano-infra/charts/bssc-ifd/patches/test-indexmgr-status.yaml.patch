--- bssc-ifd-13.0.1/bssc-ifd/charts/bssc-indexmgr/templates/tests/test-indexmgr-status.yaml	2023-12-06 18:41:43.000000000 +0530
+++ bssc-ifd-patch-9/charts/bssc-indexmgr/templates/tests/test-indexmgr-status.yaml	2024-03-14 14:14:26.348371000 +0530
@@ -45,7 +45,7 @@
   {{- if eq (tpl (.Values.security.sensitiveInfoInSecret.enabled | toString ) .) "true" }}
   initContainers:
   - name : {{ template "bssc-indexmgr.initContainer.name" . }}
-    image: {{ include "bssc-indexmgr.registry" (tuple .Values .Values.internalInitRegistry) }}/{{ .Values.indexmgr.image.initRepo }}:{{ include "bssc-indexmgr.imageTag" (tuple .Values.indexmgr.image.initTag $.commonSupportedImageFlavor .Values .Values.indexmgr .Values.indexmgr.image) }}
+    image: {{ include "bssc-indexmgr.registry" (tuple .Values .Values.internalInitRegistry) }}/{{ .Values.indexmgr.image.initRepo }}:{{ .Values.indexmgr.image.initTag }}
     command: ['sh', '-c', "/etc/initContainerMount/encrypt.sh"]
     securityContext:
       {{- include "bssc-indexmgr.container.securityContext" . | indent 6 }}
@@ -57,7 +57,9 @@
     volumeMounts:
     - name: shared-volume
       mountPath: "/etc/sharedMount/"
-    - name: indexmgr-secret
+    - name: indexmgr-passwordsecret
+      mountPath: "/etc/initContainerMount/passwords"
+    - name: indexmgr-certsecrets
       mountPath: "/etc/initContainerMount/secrets"
     {{- if and (eq $.isCertManagerEnabled "true") (.Values.indexmgr.certificate.enabled) (not $.istio.enabled) ( not .Values.security.sensitiveInfoInSecret.ca_certificate) }}
     - name: cert-manager-secret
@@ -123,9 +125,9 @@
   - name: shared-volume
     emptyDir:
       sizeLimit: {{ default "10Mi"  .Values.emptyDirSizeLimit.sharedVolume }}
-  - name: indexmgr-secret
+  - name: indexmgr-passwordsecret
     secret:
-      secretName: {{ .Values.security.sensitiveInfoInSecret.credentialName }}
+      secretName: {{ .Values.security.sensitiveInfoInSecret.credentialNamePassword }}
       items:
       - key: {{ .Values.security.sensitiveInfoInSecret.indexmgrIsUsername }}
         path: .indexmgrIsUsername
@@ -133,20 +135,24 @@
         path: .indexmgrIsPassword
         {{- if not $.istio.enabled }}
           {{- if .Values.security.sensitiveInfoInSecret.ca_certificate }}
+  - name: indexmgr-certsecrets
+    secret:
+      secretName: {{ .Values.security.sensitiveInfoInSecret.credentialNameCert }}
+      items:
       - key: {{ .Values.security.sensitiveInfoInSecret.ca_certificate }}
         path: .ca_certificate
           {{- else }}
             {{- if eq $.isCertManagerEnabled "true" }}
-              {{- if .Values.indexmgr.certificate.enabled }}
+               {{- if .Values.indexmgr.certificate.enabled }}
   - name: cert-manager-secret
     secret:
-      secretName: {{ template "bssc-indexmgr.fullname" . }}-certmgr
+      secretName: {{ .Values.indexmgr.certificate.secretName | default (printf "%s-certmgr" (include "bssc-indexmgr.fullname" .)) }}
       items:
       - key: ca.crt
         path: .ca_certificate
                 {{- end }}
             {{- end }}
-          {{- end }}
+           {{- end }}
         {{- end }}
   {{- end }}
   {{- end }}
